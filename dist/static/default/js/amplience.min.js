!function(e,r){if("function"==typeof define&&define.amd)define([],r);else if("object"==typeof exports)module.exports=r();else{var n=void 0!==e.renderTypes?e.renderTypes:void 0,a=void 0!==e.Handlebars?e.Handlebars:void 0;r()(a||null,n||null)}}(this,function(){return function(e,r){if(r&&void 0===t)var t=r;e&&"undefined"==typeof Handlebars&&(Handlebars=e),"undefined"!=typeof Handlebars?(Handlebars.registerHelper("escapeUrl",function(e){return!e||e.length<1?"":encodeURIComponent(e)}),Handlebars.registerHelper("dynamicTemplate",function(e,r,n,a){!1===e&&(e=n["@type"]),r?n.renderTypes=r:r=n.renderTypes;var t,i=-1===e.indexOf("/")?e:e.substring(e.lastIndexOf("/")+1,e.length);for(var s in r)if(i===r[s]){t=Handlebars.partials[s].length?Handlebars.partials[s]:Handlebars.template(Handlebars.partials[s]);break}return t?(n.addTemplateClassname=void 0!==a?a:"",new Handlebars.SafeString(t(n))):"Template matching id: "+e+" not found"}),Handlebars.registerHelper("templateChooser",function(e,r){!1===e&&(e=r["@type"]);var n,a=(-1===e.indexOf("/")?e:e.substring(e.lastIndexOf("/")+1,e.length)).split(".")[0];return(n=Handlebars.partials[a].length?Handlebars.partials[a]:Handlebars.template(Handlebars.partials[a]))?new Handlebars.SafeString(n(r)):"Template matching id: "+e+" not found"}),Handlebars.registerHelper("matchType",function(e,r,n){if(!t)return new Handlebars.SafeString("renderTypes are undefined");var a=-1===e.indexOf("/")?e:e.substring(e.lastIndexOf("/")+1,e.length);return t[r]===a?n.fn(this):void 0}),Handlebars.registerHelper("math",function(e,r,n,a){return{"+":(e=parseFloat(e))+(n=parseFloat(n)),"-":e-n,"*":e*n,"/":e/n,"%":e%n}[r]}),Handlebars.registerHelper("bannerConfig",function(e){if(hex=this.bannerColor||"#fff",alpha=this.bannerOpacity||1,hex=hex.replace("#",""),3===hex.length){var r=hex.split("");hex=r[0]+r[0],hex+=r[1]+r[1],hex+=r[2]+r[2]}var n=parseInt(hex.slice(0,2),16),a=parseInt(hex.slice(2,4),16),t=parseInt(hex.slice(4,6),16);return alpha?"background-color:rgba("+n+", "+a+", "+t+", "+alpha+"); ":"background-color:rgb("+n+", "+a+", "+t+"); "}),Handlebars.registerHelper("roundelConfig",function(e){if(e&&e[0]&&e[0].roundel&&e[0].roundel.name){var r="";switch(e[0].roundelPosition){case"Bottom Right":r="p1_img=";break;case"Bottom Left":r="p2_img=";break;case"Top Left":r="p3_img=";break;case"Top Right":r="p4_img="}var n=e[0].roundelRatio;return r+e[0].roundel.name+(n?"&roundelRatio="+n:"")}return""}),Handlebars.registerHelper("splitBlock",function(e,r){if(void 0===r)return"";var n=parseInt(e,10),a=r.split("/");return 0===n?"amp-ca-size-"+a[0]:"amp-ca-size-"+a[1]}),Handlebars.registerHelper("iff",function(e,r,n,a){var t=!1;switch(r){case"==":t=e==n;break;case">":t=n<e;break;case"<":t=e<n;break;default:throw"Unknown operator "+r}return t?a.fn(this):a.inverse(this)}),Handlebars.registerHelper("roundelProperties",function(e){return this.roundel&&this.roundel[0]&&this.roundel[0].roundel&&this.roundel[0].roundelPosition&&this.roundel[0].roundelRatio?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("showdown",function(e){return"undefined"==typeof showdown?e||"":(void 0===(e=new showdown.Converter({noHeaderId:!0,simpleLineBreaks:!0}).makeHtml(e))&&(e=""),new Handlebars.SafeString(e))})):console.warn("Handlebars is not defined, please make sure you included Handlebars library")}});

window.loryHelpers={navigationDots:function(e,i,a){var r=Array.prototype.slice.call(e.querySelectorAll(".js_dc_slider_dot"),0);r.forEach(function(e,t){0===t&&e.classList.add("active"),e.addEventListener("click",function(e){i.slideTo(t)})}),e.addEventListener("after.lory.slide",function(e){r.forEach(function(e,t){e.classList.remove("active")});var t=a.infinite?e.detail.currentSlide-1:e.detail.currentSlide;r[t].classList.add("active")}),e.addEventListener("on.lory.resize",function(){r.forEach(function(e,t){0===t?e.classList.add("active"):e.classList.remove("active")})})},autoPlay:function(e){},disableNavButtons:function(e,i){var a=Array.prototype.slice.call(e.querySelectorAll(".js_ca_slide"),0),r=e.querySelector(".js_prev"),s=e.querySelector(".js_next"),n="ctrl-disabled",t=function(e){var t=i.returnIndex();0===t?(r.classList.add(n),s.classList.remove(n)):t===a.length-1?(r.classList.remove(n),s.classList.add(n)):(r.classList.remove(n),s.classList.remove(n))};0===i.returnIndex()&&r.classList.add(n),e.addEventListener("after.lory.slide",t),e.addEventListener("on.lory.resize",t)},initSliders:function(e){var n=this;(e=Array.prototype.slice.call(e,0)).forEach(function(e,t){var i="true"===e.getAttribute("data-infinite"),a="true"===e.getAttribute("data-navigation"),r={};i&&(r.infinite=1);var s=lory(e,r);i||n.disableNavButtons(e,s),a&&n.navigationDots(e,s,r)})}};
!function(){"use strict";var e=function(){this.retries=0,this.timeout=100};e.prototype={baseAjax:function(t){var i=this,n=new XMLHttpRequest,e=t.mime?t.mime:"application/json";n.overrideMimeType(e),n.open("GET",t.url,!0),n.onload=function(){if(200===n.status){var e=t.formatData?t.formatData(n.responseText):n.responseText;return 0<e.length?t.callback(e):(console.error("Error retrieving data",n.responseText),t.callback(!1))}i.retries<9?setTimeout(function(){t.errorCallback(n.status),i.timeout*=2,i.retries+=1},i.timeout):console.error("Error retrieving data",n.responseText)},n.onerror=function(){console.error("Error xhr request")},n.send(null)},getCaData:function(t){var e=this,i=t.url?t.url:encodeURI(t.auth.baseUrl+"/cms/content/query?fullBodyObject=true&scope=tree&store="+t.auth.store+'&query={"sys.iri":"http://content.cms.amplience.com/'+t.auth.id+'"}&v='+Date.now());return this.baseAjax({url:i,callback:function(e){t.callback(e)},errorCallback:function(){e.getCaData(t)},formatData:function(e){return t.formatData?t.formatData(e):e}})},postProcessing:{exec:function(e,t){var i=this;i.dependencies[e].forEach(function(e){i.handlers[e](t)})},dependencies:{slider:["fixVideoButton","fixAndroidSwipeOverTheVideo"],video:["fixVideoButton"],splitBlock:["fixVideoButton"],blog:["fixVideoButton"],homepage:["fixVideoButton","fixAndroidSwipeOverTheVideo"]},handlers:{fixAndroidSwipeOverTheVideo:function(){if(navigator.userAgent.match(/Android/i)){var e=document.querySelectorAll(".amp-ca-slider .amp-ca-video");(e=Array.prototype.slice.call(e,0)).forEach(function(e,t){var i=document.createElement("div");i.style.width=e.clientWidth+"px",i.style.height=e.clientHeight-30+"px",i.style.marginBottom=30-e.clientHeight+"px",i.className="inactive-video",e.parentNode.parentNode.insertBefore(i,e.parentNode),i.addEventListener("click",function(){i.classList.add("no-overlay"),e.play()}),e.addEventListener("pause",function(){i.classList.remove("no-overlay")}),window.addEventListener("resize",function(){i.style.width=e.clientWidth+"px",i.style.height=e.clientHeight-30+"px",i.style.marginBottom=30-e.clientHeight+"px"})})}},fixVideoButton:function(){var i=document.querySelectorAll(".amp-ca-video");i=Array.prototype.slice.call(i,0);var n=document.querySelectorAll(".pause-button");n=Array.prototype.slice.call(n,0);var o="click";if(navigator.userAgent.match(/(iPad)|(iPhone)|(Android)/i)?o="touchstart":n.forEach(function(e){e.classList.remove("inactive")}),navigator.userAgent.match(/Android/i))i.forEach(function(e){e.addEventListener(o,function(){var e=this;e.paused?setTimeout(function(){e.play()},1):setTimeout(function(){e.pause()},1)})});else{var r=[],a=function(e){r[e]=!0,setTimeout(function(){r[e]=!1},200)};i.forEach(function(e,t){r[t]=!1,e.addEventListener(o,function(){r[t]||(i[t].paused?(a(t),setTimeout(function(){i[t].paused&&i[t].play()},200)):(a(t),setTimeout(function(){i[t].pause()},200)))}),e.addEventListener("pause",function(){n[t].classList.remove("inactive")}),e.addEventListener("play",function(){n[t].classList.add("inactive")}),n[t].addEventListener(o,function(){r[t]||(i[t].paused?setTimeout(function(){i[t].play()},1):setTimeout(function(){i[t].pause()},1),a(t))})})}}}},constructor:e},window.AmpCa=window.AmpCa||{},window.AmpCa.Utils=e}(),"undefined"!=typeof module?module.exports=window.AmpCa.Utils:"function"==typeof define&&define.amd&&define([],function(){"use strict";return window.AmpCa.Utils});
'use strict'

$(document).ready(function () {
    AmpCa.utils = new AmpCa.Utils();

    var $sliders = document.querySelectorAll(".js_slider");
    var slidersArr = Array.prototype.slice.call($sliders);
    if (slidersArr.length > 0) {
        loryHelpers.initSliders($sliders);
        AmpCa.utils.postProcessing.exec('slider', {});
    }

    //Video fixes
    var videosArr = Array.prototype.slice.call(document.querySelectorAll(".amp-ca-video"));
    if (videosArr.length > 0) {
        AmpCa.utils.postProcessing.exec('video');
    }
});
